<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sign In</title>
    <link rel="shortcut icon" href="/Logo.jpg" type="image/x-icon">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap@5.3.3/dist/css/bootstrap.min.css">

    <style>
        /* Custom Styles */
        body {
            background-color: #f8f9fa;
            overflow-x: hidden;
        }

        .card {
            border-radius: 10px;
            overflow: hidden;
            animation: fadeInCard 1s ease-in-out;
        }

        @keyframes fadeInCard {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .text-bg-primary {
            background-color: #004d40;
            color: white;
            padding: 2rem;
        }

        .text-bg-primary h2 {
            color: #ffdd57;
        }

        .img-fluid {
            border-radius: 50%;
            border: 4px solid #ffdd57;
            animation: fadeInImage 1.2s ease-in-out;
        }

        @keyframes fadeInImage {
            from {
                opacity: 0;
                transform: scale(0.8);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        hr {
            border-top: 2px solid rgba(255, 255, 255, 0.2);
        }

        /* Form Styling */
        .form-control {
            border: 1px solid #ced4da;
            border-radius: 0.375rem;
            transition: box-shadow 0.3s ease, border-color 0.3s ease;
        }

        .form-control:focus {
            box-shadow: 0 0 8px rgba(0, 77, 64, 0.3);
            border-color: #004d40;
        }

        .form-label {
            font-weight: 600;
        }

        /* Button Styling */
        .bsb-btn-xl {
            padding: 0.75rem 1.5rem;
            font-size: 1.2rem;
            border-radius: 0.5rem;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .btn-primary {
            background-color: #004d40;
            border-color: #004d40;
        }

        .btn-primary:hover {
            background-color: #003530;
            border-color: #003530;
            transform: translateY(-2px);
        }

        /* Checkbox */
        .form-check-label {
            color: #6c757d;
        }

        /* Responsive Improvements */
        @media (max-width: 768px) {
            .text-bg-primary {
                padding: 1.5rem;
            }

            .bsb-btn-xl {
                font-size: 1.1rem;
            }
        }
    </style>
</head>

<body>
    <section class="p-4">
        <div class="container">
            <div class="card border-light shadow-sm">
                <div class="row g-0">
                    <!-- Left section with the logo and text -->
                    <div class="col-md-6 text-bg-primary d-flex align-items-center justify-content-center">
                        <div class="col-xl-8 text-center">
                            <img class="img-fluid rounded mb-4" loading="lazy" src="/Logo.jpg" width="130" height="80"
                                alt="Logo">
                            <hr class="border-primary-subtle mb-4">
                            <h2 class="h1 mb-4">We make Examination easy at your doorstep.</h2>
                        </div>
                    </div>

                    <!-- Right section with the form -->
                    <div class="col-md-6">
                        <div class="card-body p-4 p-md-5">
                            <div class="mb-5 text-center">
                                <h2 class="h3">Sign In</h2>
                                <h3 class="fs-6 fw-normal text-secondary">Enter your details</h3>
                            </div>

                            <form action="/signup" method="POST">
                                <div class="row gy-3">

                                    <% if (typeof errorMessage !=='undefined' ) { %>
                                        <div class="alert alert-danger text-center" role="alert">
                                            <%= errorMessage %>
                                        </div>
                                        <% } %>

                                            <div class="col-12">
                                                <label for="firstName" class="form-label">First Name <span
                                                        class="text-danger">*</span></label>
                                                <input type="text" class="form-control" name="firstName" id="firstName"
                                                    placeholder="First Name" required>
                                            </div>
                                            <div class="col-12">
                                                <label for="lastName" class="form-label">Last Name <span
                                                        class="text-danger">*</span></label>
                                                <input type="text" class="form-control" name="lastName" id="lastName"
                                                    placeholder="Last Name" required>
                                            </div>
                                            <div class="col-12">
                                                <label for="Category" class="form-label">Category <span
                                                        class="text-danger">*</span></label>
                                                <select class="form-select" name="category" id="Category" required>
                                                    <option value="" disabled selected>Select Category</option>
                                                    <option value="teacher">Teacher</option>
                                                    <option value="student">Student</option>
                                                </select>
                                            </div>
                                            <!-- Roll Number field -->
                                            <div class="col-12" id="rollNumberContainer" style="display: none;">
                                                <label for="rollNumber" class="form-label">Roll Number <span
                                                        class="text-danger">*</span></label>
                                                <input type="text" class="form-control" name="rollNumber"
                                                    id="rollNumber" placeholder="Roll Number" required>
                                            </div>

                                            <div class="col-12">
                                                <label for="email" class="form-label">Email <span
                                                        class="text-danger">*</span></label>
                                                <input type="email" class="form-control" name="email" id="email"
                                                    placeholder="name@example.com" required>
                                            </div>
                                            <div class="col-12">
                                                <label for="password" class="form-label">Password <span
                                                        class="text-danger">*</span></label>
                                                <input type="password" class="form-control" name="password"
                                                    id="password" required>
                                            </div>
                                            <div class="col-12">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" name="iAgree"
                                                        id="iAgree" required>
                                                    <label class="form-check-label" for="iAgree">
                                                        I agree to the <a href="#!" class="link-primary">terms and
                                                            conditions</a>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="d-grid">
                                                    <button class="btn bsb-btn-xl btn-primary" id="btnSignUp"
                                                        type="submit">Sign
                                                        Up</button>
                                                </div>
                                            </div>
                                </div>
                            </form>

                            <div class="text-center mt-4">
                                <hr class="border-secondary-subtle">
                                <p class="text-secondary">Already have an account? <a href="/login"
                                        class="link-primary">Log-in</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Get references to the category select, roll number container elements, and checkbox
        const categorySelect = document.getElementById('Category');
        const rollNumberContainer = document.getElementById('rollNumberContainer');
        const rollNumberInput = document.getElementById('rollNumber');
        const iAgreeCheckbox = document.getElementById('iAgree');
        const form = document.querySelector('form');

        // Show or hide the roll number field based on the selected category
        categorySelect.addEventListener('change', function () {
            if (this.value === 'student') {
                rollNumberContainer.style.display = 'block'; // Show roll number field
                rollNumberInput.setAttribute('required', 'required'); // Set roll number as required
            } else {
                rollNumberContainer.style.display = 'none'; // Hide roll number field
                rollNumberInput.removeAttribute('required'); // Remove required attribute
                rollNumberInput.value = ''; // Clear the roll number input
            }
        });

        // Handle form submission
        form.addEventListener('submit', function (event) {
            // Check if the terms and conditions checkbox is ticked
            if (!iAgreeCheckbox.checked) {
                event.preventDefault(); // Prevent form submission
                alert("Please agree to the terms and conditions to proceed."); // Alert user
                return;
            }

            // Check if all required fields are filled
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            if (!firstName || !lastName || !email || !password) {
                event.preventDefault(); // Prevent form submission
                alert("Please fill in all the required fields."); // Alert user
                return;
            }

            // If the category is 'student', ensure roll number is filled
            if (categorySelect.value === 'student' && rollNumberContainer.style.display !== 'none') {
                if (!rollNumberInput.value) {
                    event.preventDefault(); // Prevent form submission
                    alert("Please enter your roll number."); // Alert user
                    return;
                }
            }
        });



        const buttonUrlMap = {
            '#btnSignUp': '/login'
        };

        /*for (let buttonId in buttonUrlMap) {
            const button = document.querySelector(buttonId);
            button.addEventListener('click', function () {
                window.location.href = buttonUrlMap[buttonId];
            });
        }*/
    </script>
</body>

</html>