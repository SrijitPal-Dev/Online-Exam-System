<!-- Navbar Component -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand d-flex align-items-center" href="#">
      <img src="/Logo.jpg" alt="Logo" class="me-2">
      e-Examin
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="/homepage">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Documentation</a>
        </li>
        <li class="nav-item">
          <a id="logout-link" class="nav-link" href="#">Log out</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Profile</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<style>
  /* Navbar Customization */

  .navbar-dark {
    background-color: #004d40;
    /* Dark teal background */
    padding: 1rem 2rem;
    transition: background-color 0.3s ease-in-out;
  }

  .navbar-brand {
    display: flex;
    align-items: center;
    font-size: 1.8rem;
    font-weight: bold;
    color: #ffdd57;
  }

  .navbar-brand img {
    margin-right: 10px;
    width: 40px;
    height: 40px;
    border-radius: 50%;
  }

  .navbar-nav .nav-link {
    color: #f8f9fa;
    font-size: 1.1rem;
    margin-left: 15px;
    padding-bottom: 0.2rem;
    position: relative;
    transition: color 0.3s ease, transform 0.3s ease;
  }

  .navbar-nav .nav-link:hover {
    color: #ffc107;
    transform: scale(1.05);
  }

  .navbar-nav .nav-link::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background-color: #ffc107;
    transition: width 0.3s ease-in-out;
  }

  .navbar-nav .nav-link:hover::after {
    width: 100%;
  }

  .navbar-nav .nav-item .active {
    color: #ffc107;
    font-weight: bold;
  }

  .navbar-toggler {
    border: none;
    outline: none;
  }

  .navbar-toggler-icon {
    background-color: #ffc107;
    border-radius: 4px;
  }

  .nav-item {
    margin-left: 1.5rem;
  }

  @media (max-width: 768px) {
    .navbar-brand {
      font-size: 1.5rem;
    }

    .navbar-nav .nav-link {
      font-size: 1rem;
      margin-left: 0;
      text-align: center;
      padding: 10px 0;
    }

    .navbar-nav .nav-item {
      margin-left: 0;
      margin-top: 10px;
    }

    .navbar-dark {
      padding: 0.5rem 1.5rem;
    }
  }
</style>

<script>
  const buttonUrlMap = {
    '#Upload': '/upload',
    '#Performance': '/performance',
    '#Schedule': '/schedule'
  };
  document.getElementById("logout-link").addEventListener("click", function (event) {
    event.preventDefault(); // Prevent default link action

    // Send a POST request to the /logout route
    fetch('/logout', { method: 'POST' })
      .then(response => {
        if (response.redirected) {
          // Redirects to the home page after logout
          window.location.href = response.url;
        } else {
          alert("Error logging out. Please try again.");
        }
      })
      .catch(error => {
        console.error("Log-out error:", error);
        alert("Error logging out. Please try again.");
      });
  });
</script>